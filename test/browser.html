<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Tweakpane Plugins Test (Value Pairs + String List)</title>
</head>
<body>
	<script type="module">
		import {Pane} from '../node_modules/tweakpane/dist/tweakpane.min.js';
		import * as TweakpaneTemplatePlugin from '../dist/tweakpane-plugin-template.js';

		const params = {
			// Original template plugin example
			dotValue: 3,

      point2d : {"x": 123123, "y": 20},
			
					// New ValuePair plugin (point-2d style)
		singlePair: {first: 10, second: 20},
		
		// Dynamic property names examples
		dimensions: {width: 800, height: 600},
		timeValue: {time: 5.5, value: 42},
		
		// Dynamic property name lists
		rectangles: [
			{width: 100, height: 50},
			{width: 200, height: 150},
		],
		keyframes: [
			{time: 0, value: 0},
			{time: 2.5, value: 100},
			{time: 5.0, value: 50},
		],
			
			// Value pairs plugin examples with default property names
			coordinates: [
				{first: 10, second: 20},
				{first: 30, second: 40},
			],
			
			positions: [
				{first: 0, second: 0},
				{first: 100, second: 150},
				{first: 200, second: 75},
			],
			
			// Custom property names examples
			sizes: [
				{width: 100, height: 200},
				{width: 50, height: 75},
			],
			
			colors: [
				{red: 255, blue: 128},
				{red: 64, blue: 200},
			],
			
			// Empty list example
			emptyList: [],
			
			// String List plugin examples
			tags: ['javascript', 'tweakpane', 'plugin', 'ui'],
			usernames: ['admin', 'user1', 'guest'],
			colors_names: ['red', 'green', 'blue', 'yellow'],
			empty_strings: [],
			single_item: ['only-item'],
		};

		const pane = new Pane();
		// Register plugin bundle
		pane.registerPlugin(TweakpaneTemplatePlugin);
		// String List Plugin examples
		const folderStringList = pane.addFolder({title: 'String List Plugin', expanded: true});
		
		// Basic string list example
		const tagsFolder = folderStringList.addFolder({title: 'Tags', expanded: true});
		tagsFolder.addBinding(params, 'tags', {
			view: 'stringlist',
			label: 'Tag'
		}).on('change', (ev) => {
			console.log('Tags changed:', ev.value);
		});

		// Usernames example
		const usernamesFolder = folderStringList.addFolder({title: 'Usernames', expanded: true});
		usernamesFolder.addBinding(params, 'usernames', {
			view: 'stringlist',
			label: 'Username'
		}).on('change', (ev) => {
			console.log('Usernames changed:', ev.value);
		});

		// Color names example
		const colorNamesFolder = folderStringList.addFolder({title: 'Color Names', expanded: true});
		colorNamesFolder.addBinding(params, 'colors_names', {
			view: 'stringlist',
			label: 'Color'
		}).on('change', (ev) => {
			console.log('Color names changed:', ev.value);
		});

		// Empty list example (starts with no items)
		const emptyStringsFolder = folderStringList.addFolder({title: 'Empty List (Start Adding)', expanded: true});
		emptyStringsFolder.addBinding(params, 'empty_strings', {
			view: 'stringlist',
			label: 'Item'
		}).on('change', (ev) => {
			console.log('Empty strings list changed:', ev.value);
		});

		// Single item example
		const singleItemFolder = folderStringList.addFolder({title: 'Single Item List', expanded: true});
		singleItemFolder.addBinding(params, 'single_item', {
			view: 'stringlist',
			label: 'Item'
		}).on('change', (ev) => {
			console.log('Single item list changed:', ev.value);
		});

		console.log('Initial params:', params);
	</script>
</body>
</html>